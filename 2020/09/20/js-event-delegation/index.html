<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    
<link rel="stylesheet" href="/css/base.css">

    
<link rel="stylesheet" href="/css/screen-m.css" media="screen and (min-width: 480px)">

    
<link rel="stylesheet" href="/css/screen-l.css" media="screen and (min-width: 640px)">


    
    
    
    
        <title>JavaScript äº‹ä»¶ä»£ç†æ·±å…¥ - Hui Li&#39;s Blog</title>
        <meta name="Description" content="JavaScript äº‹ä»¶ä»£ç†æ·±å…¥ - Hui Li&#39;s Blog">
        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/highlight.css">

        
<link rel="stylesheet" href="/css/post.css">

    

    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png">
    <link rel="manifest" href="/assets/favicons/site.webmanifest">
    <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/assets/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="msapplication-config" content="/assets/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

<meta name="generator" content="Hexo 4.2.1"></head>
<body>
    <!-- the reason of using two layers of wrapper is to 
        avoid the scrollbar squeeze/overlap the content -->
    <div class="wrapper--header z-800">
        <div class="page-bounding">
            <header>
    <a href="/">
        <img class="site__logo" src="https://blog-pics-1302502188.cos.ap-shanghai.myqcloud.com/20200807103939.PNG" alt="blog icon">
    </a>
    <nav class="header__nav">
        <h1 class="header__title">Hui Li</h1>
        <div class="nav-toggle">
            <i class="icon icon-menu material-icons md-32">menu</i>
            <i class="icon icon-close material-icons md-32">close</i>
        </div>
        <menu class="nav__items">
            
                <span class="nav__item">
                    <a href="/">
                        <i class="material-icons item__icon">home</i>
                        <span class="item__text hover--underline">
                            Home
                        </span>
                    </a>
                </span>
            
                <span class="nav__item">
                    <a href="/tags">
                        <i class="material-icons item__icon">local_offer</i>
                        <span class="item__text hover--underline">
                            Tags
                        </span>
                    </a>
                </span>
            
                <span class="nav__item">
                    <a href="/search">
                        <i class="material-icons item__icon">search</i>
                        <span class="item__text hover--underline">
                            Search
                        </span>
                    </a>
                </span>
            
                <span class="nav__item">
                    <a href="/about">
                        <i class="material-icons item__icon">person</i>
                        <span class="item__text hover--underline">
                            About
                        </span>
                    </a>
                </span>
            
        </menu>
    </nav>
</header>
        </div>
    </div>
    <div class="wrapper--content">
        <div class="page-bounding">
            <!-- CONTENT -->
            <article>
    <div class="post__title">
        <h1 id="JavaScript äº‹ä»¶ä»£ç†æ·±å…¥">
            JavaScript äº‹ä»¶ä»£ç†æ·±å…¥
        </h1>
        <span class="post__meta">
            <i class="material-icons md-20">today</i>
            <span>2020-09-20</span>
        </span>
        
            <span class="post__meta">
                <i class="material-icons md-20">local_offer</i>
                
                    <a href="/tags/JavaScript/" class="tag tag--small hover--underline">#JavaScript</a>
                
            </span>
        
    </div>
    <div class="post__content">
        <div class="info">
<p><strong>ä¸€ç‚¹å‰è¨€</strong></p>
<p>è¯´æ¥æƒ­æ„§ï¼Œä¸€è½¬çœ¼ä¸¤ä¸ªæœˆè¿‡å»äº†ï¼Œåšå®¢çš„æ›´æ–°åˆè¢«æç½®äº†ï¼Œ8 æœˆä»½å›åˆ°å›½å†…ï¼Œéš”ç¦»æœŸé—´åœ¨å®¾é¦†æ”¾ç©ºè‡ªæˆ‘ï¼Œä»€ä¹ˆäº‹æƒ…ä¹Ÿæ²¡å¹²ï¼Œå›åˆ°å®¶æ²¡å¤šä¹…ï¼Œåˆå› ä¸ºåœ¨ç¾å›½çš„æ—¶å€™è€³æœµå†…å‘ç‚é•¿äº†ä¸€ä¸ªå°ç—˜ç—˜æ²¡å¤ªåœ¨æ„ï¼ˆå› ä¸ºç–«æƒ…ä¹Ÿä¸æ•¢å»åŒ»é™¢ï¼‰ï¼Œä»¥ä¸ºå›å›½æ¶‚ç‚¹è¯å°±å¥½äº†ï¼Œç„¶åå‘å±•æˆå¤–è€³é“ç––è‚¿ï¼Œè¿˜ä½é™¢åšäº†æ‰‹æœ¯ğŸ¤•ï¸ã€‚</p>
<p>æˆ‘å¹¶ä¸æƒ³ä¸ºäº†æ›´æ–°åšå®¢è€Œæ›´æ–°ï¼Œå»å†™é‚£ç§å¾ˆå¤šäººå†™è¿‡çš„ä¸œè¥¿ã€‚åœ¨å›½å¤–ä¸¤å¹´å­¦åˆ°çš„ä¸€äº›æˆ‘è®¤ä¸ºæœ‰ç”¨çš„ä¸œè¥¿ï¼ˆåŒ…æ‹¬ç”¨ Java å®ç°å›¾åƒå¤„ç†åº“ï¼Œå‡½æ•°å¼ç¼–ç¨‹å®ç°ä¸€ä¸ªç¼–è¯‘å™¨ç­‰ç­‰ï¼‰æˆ‘éƒ½æƒ³åˆ†äº«ï¼Œç¬”è®°æœ¬ä¸Šæ‚ä¸ƒæ‚å…«å†™äº†å¾ˆå¤šé›¶ç¢çš„ä¸œè¥¿ï¼Œæ•´ç†å‡ºæ¥å†™æˆæ–‡ç« çš„ç¡®æŒºè€—æ—¶ã€‚æ€»ä¹‹ï¼Œä¸ºæ‹–å»¶æ›´åšæ„Ÿåˆ°å†…ç–šï¼Œä¸‹é¢è¿›å…¥æ­£æ–‡</p>
</div>
<p>äº‹ä»¶ä»£ç†çš„åŸºæœ¬æ€æƒ³æ˜¯åˆ©ç”¨äº‹ä»¶å†’æ³¡ï¼Œåªä½¿ç”¨ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºæ¥ç®¡ç†ä¸€ç§ç±»å‹çš„äº‹ä»¶ï¼Œä»è€Œå‡å°‘ç½‘é¡µå¯¹å†…å­˜çš„å ç”¨å’Œå…ˆæœŸæŒ‡å®šäº‹ä»¶é€ æˆé¡µé¢äº¤äº’çš„å»¶è¿Ÿã€‚æœ¬æ–‡ä»æˆ‘ä¸ªäººå­¦ä¹ äº‹ä»¶ä»£ç†çš„è§’åº¦æ¥å¾ªåºæ¸è¿›åœ°è®¨è®ºäº‹ä»¶ä»£ç†çš„æ­£ç¡®å®ç°ã€‚<strong>æœ¬æ–‡å‡è®¾ä½ å·²ç»çŸ¥æ™“æµè§ˆå™¨äº‹ä»¶å†’æ³¡å’Œæ•è·ï¼Œå› æ­¤ä¸å†èµ˜è¿°ã€‚</strong></p>
<h2 id="%E2%80%9C%E9%94%99%E8%AF%AF%E2%80%9D%E7%9A%84%E5%86%99%E6%B3%95" id="â€œé”™è¯¯â€çš„å†™æ³•">â€œé”™è¯¯â€çš„å†™æ³•</h2>
<p>å¯¹äºä¸‹é¢çš„ HTML ä»£ç ï¼Œ</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"items"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"item1"</span>&gt;</span>item 1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"item2"</span>&gt;</span>item 2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"item3"</span>&gt;</span>item 3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p>æˆ‘æœ€å¼€å§‹åœ¨ç½‘ä¸Šå­¦ä¹ åˆ°çš„äº‹ä»¶ä»£ç†çš„ç‰ˆæœ¬ï¼Œä¹Ÿæ˜¯å¤§éƒ¨åˆ†æ–‡ç« ä½¿ç”¨çš„ä¸€èˆ¬äººä½¿ç”¨çš„æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> items = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.items'</span>);<br>items.addEventListener(<span class="hljs-string">'click'</span>, (event) =&gt; &#123;<br>  <span class="hljs-keyword">let</span> target = event.target;<br>  <span class="hljs-keyword">switch</span>(target.id) &#123;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">"item1"</span>:<br>      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'click item1'</span>);<br>      <span class="hljs-keyword">break</span>;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">"item2"</span>:<br>      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'click item2'</span>);<br>      <span class="hljs-keyword">break</span>;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">"item3"</span>:<br>      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'click item3'</span>);<br>      <span class="hljs-keyword">break</span>;<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>
<p>è¿™ä¸ªå†™æ³•æ˜¯å¯è¡Œçš„ï¼Œé‚£ä¸ºä»€ä¹ˆæ˜¯ â€œé”™è¯¯â€ çš„å‘¢ï¼Ÿæ¥çœ‹ä¸‹é¢çš„ä¾‹å­</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"items"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"item1"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>item 1<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"item2"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>item 2<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"item3"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>item 3<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p>ä»…ä»…æ˜¯å°† <code>&lt;li&gt;</code> æ ‡ç­¾çš„å†…å®¹æ·»åŠ äº†ä¸€å±‚åµŒå¥—ï¼Œä¸Šé¢çš„ JS ä»£ç å°±æ— æ•ˆäº†ï¼Œåªæœ‰åœ¨ç‚¹å‡» <code>&lt;li&gt;</code> å‰é¢çš„åœ†ç‚¹çš„æ—¶å€™æ‰å¯ä»¥å“åº”ç‚¹å‡»äº‹ä»¶ã€‚</p>
<h3 id="this%3F-target%3F-currenttarget%3F" id="this-target-currentTarget">this? target? currentTarget?</h3>
<p>åœ¨ææ¸…æ¥šä¸ºä»€ä¹ˆä¼šå‡ºç°ä¸Šé¢çš„ç°è±¡ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¦æ¸…æ¥šåœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ <code>target</code>, <code>currentTarget</code> å’Œ <code>this</code> çš„å€¼åˆ†åˆ«æŒ‡ä»£ä»€ä¹ˆä¸œè¥¿ï¼ˆå¯ç›´æ¥çœ‹ç»“è®ºï¼‰ã€‚å¯¹äºä¸‹é¢ä»£ç </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- ç›¸å…³æ ·å¼å·²çœç•¥ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"a"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"b"</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"c"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p>æ·»åŠ å¦‚ä¸‹çš„ç‚¹å‡»äº‹ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.a'</span>);<br>a.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'this'</span>, <span class="hljs-keyword">this</span>);<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'target'</span>, event.target);<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'currentTarget'</span>, event.currentTarget);<br>&#125;);<br></code></pre></td></tr></table></figure>
<p>åœ¨ç‚¹å‡» class ä¸º a çš„ div æ—¶ï¼Œæ§åˆ¶å°è¾“å‡º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plain">this &lt;div class&#x3D;&quot;a&quot;&gt;â€¦&lt;&#x2F;div&gt;<br>target &lt;div class&#x3D;&quot;a&quot;&gt;&lt;&#x2F;div&gt;<br>currentTarget &lt;div class&#x3D;&quot;a&quot;&gt;â€¦&lt;&#x2F;div&gt;<br></code></pre></td></tr></table></figure>
<p>åœ¨ç‚¹å‡» class ä¸º b çš„ div æ—¶ï¼Œæ§åˆ¶å°è¾“å‡º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plain">this &lt;div class&#x3D;&quot;a&quot;&gt;â€¦&lt;&#x2F;div&gt;<br>target &lt;div class&#x3D;&quot;b&quot;&gt;&lt;&#x2F;div&gt;<br>currentTarget &lt;div class&#x3D;&quot;a&quot;&gt;â€¦&lt;&#x2F;div&gt;<br></code></pre></td></tr></table></figure>
<p>åœ¨ç‚¹å‡» class ä¸º c çš„ div æ—¶ï¼Œæ§åˆ¶å°è¾“å‡º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plain">this &lt;div class&#x3D;&quot;a&quot;&gt;â€¦&lt;&#x2F;div&gt;<br>target &lt;div class&#x3D;&quot;c&quot;&gt;&lt;&#x2F;div&gt;<br>currentTarget &lt;div class&#x3D;&quot;a&quot;&gt;â€¦&lt;&#x2F;div&gt;<br></code></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š</p>
<p>åœ¨äº‹ä»¶å¤„ç†å‡½æ•°å†…éƒ¨ï¼Œ<code>this</code> å¯¹è±¡å§‹ç»ˆç­‰äº <code>currentTarget</code> çš„å€¼ï¼Œè¡¨ç¤ºè¢«äº‹ä»¶å¤„ç†å‡½æ•°æŒ‚è½½çš„å¯¹è±¡ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯ <code>a</code>ï¼‰ï¼Œ<code>target</code> åªåŒ…å«äº‹ä»¶çš„å®é™…ç›®æ ‡ï¼Œä¹Ÿå³æ˜¯ç›¸åº”äº‹ä»¶çš„è§¦å‘è€…ã€‚å¦‚æœäº‹ä»¶å¤„ç†ç¨‹åºç›´æ¥æ·»åŠ åœ¨äº†æ„å›¾æŒ‡å®šçš„ç›®æ ‡ï¼Œåˆ™ <code>this</code>, <code>currentTarget</code> å’Œ <code>target</code> çš„å€¼æ˜¯ä¸€æ ·çš„ã€‚å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>å¦‚æœäº‹ä»¶å¤„ç†é€»è¾‘åŒ…å«åœ¨ç®­å¤´ã€Œ=&gt;ã€å‡½æ•°å†…ï¼Œ<code>this</code> ä½œç”¨åŸŸè¢«å½±å“ï¼Œåˆ™ä¸ç­‰äº <code>currentTarget</code>ã€‚</strong></p>
<h3 id="%E2%80%9C%E4%BF%AE%E6%AD%A3%E2%80%9D" id="â€œä¿®æ­£â€">â€œä¿®æ­£â€</h3>
<p>ææ¸…æ¥š <code>target</code> æ˜¯ä»€ä¹ˆä¹‹åï¼Œæˆ‘ä»¬å›è¿‡å¤´çœ‹åŸæ¥çš„äº‹ä»¶ä»£ç†å‡½æ•°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">items.addEventListener(<span class="hljs-string">'click'</span>, (event) =&gt; &#123;<br>  <span class="hljs-keyword">let</span> target = event.target;<br>  <span class="hljs-keyword">switch</span>(target.id) &#123;<br>    <span class="hljs-comment">// ......</span><br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>
<p>ç°åœ¨å°±æ¯”è¾ƒæ¸…æ¥šäº†ï¼Œåœ¨åŸæ¥ <code>&lt;li&gt;</code> æ ‡ç­¾çš„å†…å®¹æ·»åŠ äº†ä¸€å±‚ <code>&lt;span&gt;</code> åµŒå¥—åï¼Œï¼ˆç‚¹å‡»æ–‡å­—ï¼‰è§¦å‘ç‚¹å‡»äº‹ä»¶çš„å¯¹è±¡ä¸º <code>&lt;span&gt;</code>ï¼Œä¹Ÿå³ä»£ç ä¸­ <code>target</code> æŒ‡å‘ <code>&lt;li&gt;</code> ä¸­çš„ <code>&lt;span&gt;</code>ï¼Œæ‰€ä»¥åé¢æ ¹æ® <code>id</code> æ‰§è¡Œç›¸åº”è¾“å‡ºçš„ä»£ç æ— æ•ˆäº†ã€‚</p>
<p>é‚£ä¹ˆè¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Œç»å†çŸ­æ—¶é—´çš„æœå¯»åï¼Œå‘ç°ä¸€ä¸ªåæ–¹ã€‚å°†è¦å“åº”çš„å…ƒç´ ä¸‹é¢ä¸€å±‚å­å…ƒç´ çš„å“åº”çš„ CSS å±æ€§ <code>pointer-events</code> è®¾ç½®ä¸º <code>none</code>ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¹Ÿå³</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.items</span> <span class="hljs-selector-tag">span</span> &#123;<br>  <span class="hljs-attribute">pointer-events</span>: none;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><code>pointer-events</code> è®¾ç½®ä¸º <code>none</code> æ—¶ï¼Œå…ƒç´ æ°¸è¿œä¸ä¼šæˆä¸ºé¼ æ ‡äº‹ä»¶çš„ <code>target</code>ï¼Œå¹¶ä¸”åœ¨å­å…ƒç´  <code>pointer-events</code> å±æ€§æœªè®¾ç½®æ—¶ï¼Œé¼ æ ‡äº‹ä»¶å°†åœ¨æ•è·æˆ–å†’æ³¡é˜¶æ®µè§¦å‘çˆ¶å…ƒç´ çš„äº‹ä»¶ä¾¦å¬å™¨ã€‚ä½¿ç”¨è¿™ç§æ–¹æ³•ç›¸å½“ä½¿ç‚¹å‡»äº‹ä»¶ç©¿é€äº† <code>&lt;span&gt;</code>ï¼Œä»£ç ä¸­çš„ <code>target</code> ä¾æ—§ä¸º <code>&lt;li&gt;</code>ã€‚</p>
<h2 id="%E9%80%9A%E7%94%A8%E5%86%99%E6%B3%95" id="é€šç”¨å†™æ³•">é€šç”¨å†™æ³•</h2>
<p>ä¸Šä¸€å°èŠ‚è®¨è®ºçš„åªæ˜¯æŸäº›æƒ…å†µä¸‹èƒ½ç”¨çš„äº‹ä»¶ä»£ç†å†™æ³•ï¼Œæ­£æ˜¯å› ä¸ºæˆ‘ä¸€å¼€å§‹ç”¨çš„ä¸Šé¢çš„å†™æ³•ï¼Œå¯¼è‡´æˆ‘åœ¨å®é™…å¼€å‘ä¸­å‘ç°ä¸èƒ½é€‚ç”¨çš„åœºæ™¯ï¼Œä¹Ÿæ‰æœ‰äº†ä¸Šé¢ç®—æ˜¯ ã€Œæ­ªé—¨é‚ªé“ã€çš„ä¿®æ­£ã€‚ä»è¿™é‡Œå¼€å§‹è®¨è®ºå¦‚ä½•æ­£ç¡®åœ°å®ç°äº‹ä»¶ä»£ç†ã€‚</p>
<p>é¦–å…ˆæ¥æ‹æ¸…æ€è·¯ï¼Œå…¶å®ä¹Ÿå¾ˆç®€å•ï¼šå› ä¸ºäº‹ä»¶å†’æ³¡ï¼Œè§¦å‘äº‹ä»¶çš„å…ƒç´ ä¸ä¸€å®šæ˜¯éœ€è¦è¢«ä»£ç†çš„å…ƒç´ ï¼Œæ‰€ä»¥ä»è¯¥å…ƒç´ å¼€å§‹ï¼Œä¸€å±‚å±‚å‘ä¸Šå¯»æ‰¾ï¼Œç›´åˆ°ä¸éœ€è¦è¢«ä»£ç†çš„å…ƒç´ ç›¸åŒ¹é…ã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">delegate</span>(<span class="hljs-params">parentSelector, targetSelector, eventType, fn</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> parent = <span class="hljs-built_in">document</span>.querySelector(parentSelector);<br>  parent.addEventListener(eventType, (ev) =&gt; &#123;<br>    <span class="hljs-keyword">let</span> ele = ev.target;<br>    <span class="hljs-keyword">while</span> (!ele.matches(targetSelector)) &#123;<br>      <span class="hljs-keyword">if</span> (ele === parent) &#123;<br>        ele = <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">break</span>;<br>      &#125;<br>      ele = ele.parentNode;<br>    &#125;<br>    ele &amp;&amp; fn.call(ele, ev)<br>  &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>
<p>æ–¹æ³•ä¼ å…¥å››ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ ä»£ç†å…ƒç´ é€‰æ‹©å™¨ï¼Œè¢«ä»£ç†å…ƒç´ é€‰æ‹©å™¨ï¼Œäº‹ä»¶ç±»å‹ä»¥åŠäº‹ä»¶å‡½æ•°ã€‚ä¸»è¦ä»£ç ä»ç¬¬ 4 è¡Œå¼€å§‹ï¼Œé¦–å…ˆæ‹¿åˆ°è§¦å‘ç‚¹å‡»äº‹ä»¶çš„å…ƒç´ ï¼Œç¬¬ 5 è¡Œä»è¯¥å…ƒç´ å¼€å§‹è¿›è¡ŒåŒ¹é…ï¼Œç¬¬ 6 è¡Œè¡¨ç¤ºå‘ä¸ŠåŒ¹é…çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœåˆ°è¾¾äº†ä»£ç†å…ƒç´ è¿˜æ²¡æœ‰æ‰¾åˆ°åŒ¹é…ï¼Œåœæ­¢å¾ªç¯ã€‚ç¬¬ 12 è¡Œè¡¨ç¤ºå¦‚æœ <code>ele</code> ä¸ä¸ºç©ºï¼Œå³åŒ¹é…åˆ°ç›®æ ‡å…ƒç´ ï¼Œå°±è°ƒç”¨å¼€å§‹ä¼ å…¥çš„äº‹ä»¶å‡½æ•°ã€‚è¯¥å‡½æ•°ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">delegate(<span class="hljs-string">'ul.items'</span>, <span class="hljs-string">'span'</span>, <span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'click item'</span> + <span class="hljs-keyword">this</span>.innerText);<br>&#125;);<br></code></pre></td></tr></table></figure>
<p>æœ‰ä¸€ç‚¹å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨äº‹ä»¶å‡½æ•°ä¸­ä½¿ç”¨ <code>this</code> æ¥æŒ‡ä»£ç›®æ ‡å…ƒç´ ï¼Œ<strong>ä¸è¦ç”¨ <code>e.target</code> è¡¨ç¤ºç›®æ ‡å…ƒç´ ä¹Ÿä¸è¦ç”¨ç®­å¤´å‡½æ•°</strong>ã€‚</p>
<h3 id="%E6%B7%BB%E5%8A%A0%E5%85%BC%E5%AE%B9%E6%80%A7" id="æ·»åŠ å…¼å®¹æ€§">æ·»åŠ å…¼å®¹æ€§</h3>
<p>ä¸ºä¸Šé¢çš„ä»£ç æ·»åŠ å…¼å®¹æ€§åï¼Œæœ€ç»ˆä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">delegate</span>(<span class="hljs-params">parentSelector, targetSelector, eventType, fn</span>) </span>&#123;<br><br>  <span class="hljs-comment">// å…¼å®¹ IE æ·»åŠ å¤„ç†å‡½æ•°</span><br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addHandler</span>(<span class="hljs-params">element, type, handler</span>) </span>&#123;<br>    <span class="hljs-keyword">if</span> (element.addEventListener) &#123;<br>      element.addEventListener(type, handler, <span class="hljs-literal">false</span>);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (element.attachEvent) &#123;<br>      element.attachEvent(<span class="hljs-string">"on"</span> + type, handler);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      element[<span class="hljs-string">"on"</span> + type] = handlder;<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-comment">// å…¼å®¹ matches</span><br>  <span class="hljs-keyword">if</span> (!Element.prototype.matches) &#123;<br>    Element.prototype.matches =<br>      Element.prototype.matchesSelector ||<br>      Element.prototype.mozMatchesSelector ||<br>      Element.prototype.msMatchesSelector ||<br>      Element.prototype.oMatchesSelector ||<br>      Element.prototype.webkitMatchesSelector ||<br>      <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">s</span>) </span>&#123;<br>      <span class="hljs-keyword">var</span> matches = (<span class="hljs-keyword">this</span>.document || <span class="hljs-keyword">this</span>.ownerDocument).querySelectorAll(s),<br>          i = matches.length;<br>      <span class="hljs-keyword">while</span> (--i &gt;= <span class="hljs-number">0</span> &amp;&amp; matches.item(i) !== <span class="hljs-keyword">this</span>) &#123; &#125;<br>      <span class="hljs-keyword">return</span> i &gt; <span class="hljs-number">-1</span>;<br>    &#125;;<br>  &#125;<br><br>  <span class="hljs-keyword">var</span> parent = <span class="hljs-built_in">document</span>.querySelector(parentSelector);<br><br>  addHandler(parent, eventType, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">ev</span>) </span>&#123;<br>    <span class="hljs-comment">// å…¼å®¹ IE</span><br>    <span class="hljs-keyword">var</span> e = e || <span class="hljs-built_in">window</span>.event;<br>    <span class="hljs-keyword">var</span> t = e.target || e.srcElement;<br><br>    <span class="hljs-keyword">while</span> (!t.matches(targetSelector)) &#123;<br>      <span class="hljs-keyword">if</span> (t === parent) &#123;<br>        t = <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">break</span>;<br>      &#125;<br>      t = t.parentNode;<br>    &#125;<br>    t &amp;&amp; fn.call(t, ev)<br>  &#125;);<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="%E5%B0%8F%E7%BB%93" id="å°ç»“">å°ç»“</h2>
<p>å›è¿‡å¤´æ¥çœ‹ï¼Œè¿™ç¯‡æ–‡ç« æè¿°äº†æˆ‘ä»ä¸€å¼€å§‹æ¥è§¦äº‹ä»¶ä»£ç†åˆ°å‘ç°é—®é¢˜ï¼Œå†åˆ°æ¢è®¨å‡ºé€šç”¨å†™æ³•ã€‚æˆ‘æ²¡æœ‰ä¸€å¼€å§‹ç›´æ¥ä»‹ç»åé¢é€šç”¨çš„å†™æ³•ï¼Œå› ä¸ºäº’è”ç½‘ä¸Šå……æ–¥ç€å¤§é‡æˆ‘æœ€å¼€å§‹é‡åˆ°çš„å†™æ³•ï¼Œä¹Ÿæ­£å› ä¸ºç¢°å·§ç¢°åˆ°äº†è¿™ä¸ªå†™æ³•çš„é—®é¢˜ï¼Œæ‰èŠ±äº†ä¸€å°æ®µæ—¶é—´å»ç ”ç©¶å®ƒï¼Œä¹Ÿç»™æˆ‘ç•™ä¸‹äº†æ·±åˆ»çš„å°è±¡ï¼Œè™½ç„¶æ˜¯ä¸ªå°é—®é¢˜ï¼Œä¹Ÿè®©æˆ‘æƒ³æŠŠä»–è®°å½•ä¸‹æ¥ï¼Œæ„Ÿè°¢é˜…è¯»ã€‚</p>

    </div>
</article>


<!-- floating buttons: 1) scroll to top 2) show toc -->
<div class="floating-section z-400">
    <div class="floating-button hidden" id="toTop" onclick="window.location.href='#JavaScript äº‹ä»¶ä»£ç†æ·±å…¥'">
        <i class="material-icons">keyboard_arrow_up</i>
    </div>
    <div class="floating-button" id="showToc">
        <i class="material-icons">format_list_numbered</i>
    </div>
</div>

<!-- MathJax Support -->

            <!-- FOOTER -->
            <footer>
    <span>Â© 2020 Hui Li</span>
    <span class="beian beian-icp">
        <a target="_blank" href="http://beian.miit.gov.cn/">é„‚ICPå¤‡20014198å·</a>
    </span>
    <span class="beian beian-gov">
        <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=42022202000083">
            <img src="https://blog-pics-1302502188.cos.ap-shanghai.myqcloud.com/20200805113229.png" alt="å¤‡æ¡ˆç¼–å·å›¾æ ‡">
            <span>é„‚å…¬ç½‘å®‰å¤‡ 42022202000083å·</span>
        </a>
    </span>
</footer>
        </div>
    </div>

    <!-- OVERLAY -->
    <div class="overlay-container">
        <div class="backdrop"></div>
        
            <div class="wrapper--toc">
                <div class="page-bounding">
                    <h2>Table of Content</h2>
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%9C%E9%94%99%E8%AF%AF%E2%80%9D%E7%9A%84%E5%86%99%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">â€œé”™è¯¯â€çš„å†™æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#this%3F-target%3F-currenttarget%3F"><span class="toc-number">1.1.</span> <span class="toc-text">this? target? currentTarget?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%9C%E4%BF%AE%E6%AD%A3%E2%80%9D"><span class="toc-number">1.2.</span> <span class="toc-text">â€œä¿®æ­£â€</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E7%94%A8%E5%86%99%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">é€šç”¨å†™æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%85%BC%E5%AE%B9%E6%80%A7"><span class="toc-number">2.1.</span> <span class="toc-text">æ·»åŠ å…¼å®¹æ€§</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-number">3.</span> <span class="toc-text">å°ç»“</span></a></li></ol>
                </div>
            </div>
        
    </div>

    <!-- javascript -->
    
<script src="/js/blog.js"></script>

    
        
<script src="/js/post.js"></script>

    

    

    <!-- Tencent MTA -->
    <script>
        var _mtac = {};
        (function() {
            var mta = document.createElement("script");
            mta.src = "//pingjs.qq.com/h5/stats.js?v2.0.4";
            mta.setAttribute("name", "MTAH5");
            mta.setAttribute("sid", "500723158");
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(mta, s);
        })();
    </script>
</body>
</html>